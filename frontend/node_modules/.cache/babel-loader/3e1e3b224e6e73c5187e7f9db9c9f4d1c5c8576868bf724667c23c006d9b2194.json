{"ast":null,"code":"var _jsxFileName = \"D:\\\\IDTSolutions\\\\Ai\\\\Embedder\\\\frontend\\\\src\\\\components\\\\upload\\\\DocumentUploader.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport { Upload, File, AlertCircle, CheckCircle, Loader } from 'lucide-react';\nimport { uploadAPI } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DocumentUploader = ({\n  onUploadComplete\n}) => {\n  _s();\n  const [uploading, setUploading] = useState(false);\n  const [message, setMessage] = useState(null);\n  const onDrop = useCallback(async acceptedFiles => {\n    if (acceptedFiles.length === 0) return;\n    const file = acceptedFiles[0];\n    setUploading(true);\n    setMessage(null);\n    try {\n      const response = await uploadAPI.uploadDocument(file);\n      setMessage({\n        type: 'success',\n        text: response.message\n      });\n      onUploadComplete(response);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessage({\n        type: 'error',\n        text: ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Failed to upload document'\n      });\n    } finally {\n      setUploading(false);\n    }\n  }, [onUploadComplete]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragActive,\n    acceptedFiles\n  } = useDropzone({\n    onDrop,\n    accept: {\n      'application/pdf': ['.pdf'],\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\n      'text/plain': ['.txt'],\n      'text/html': ['.html'],\n      'text/markdown': ['.md', '.markdown']\n    },\n    multiple: false,\n    maxSize: 10 * 1024 * 1024 // 10MB\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white p-6 rounded-lg shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-lg font-semibold mb-4\",\n      children: \"Upload Document\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ...getRootProps(),\n      className: `border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${isDragActive ? 'border-blue-500 bg-blue-50' : 'border-gray-300 hover:border-gray-400'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        ...getInputProps()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center space-y-3\",\n        children: [uploading ? /*#__PURE__*/_jsxDEV(Loader, {\n          className: \"w-12 h-12 text-blue-500 animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Upload, {\n          className: \"w-12 h-12 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-medium text-gray-700\",\n            children: uploading ? 'Uploading...' : isDragActive ? 'Drop file here' : 'Drag & drop a document'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: uploading ? 'Please wait while we process your file' : 'or click to select a file'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400\",\n          children: [\"Supported formats: PDF, DOCX, TXT, HTML, Markdown\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), \"Maximum file size: 10MB\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), acceptedFiles.length > 0 && !uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 p-3 bg-gray-50 rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(File, {\n          className: \"w-4 h-4 text-gray-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium text-gray-700\",\n          children: acceptedFiles[0].name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gray-500\",\n          children: [\"(\", (acceptedFiles[0].size / 1024 / 1024).toFixed(2), \" MB)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mt-4 p-3 rounded-md flex items-center space-x-2 ${message.type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n      children: [message.type === 'success' ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(AlertCircle, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm\",\n        children: message.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(DocumentUploader, \"0HsaU6YoxVqgP2ZbVqavqA04ZtA=\", false, function () {\n  return [useDropzone];\n});\n_c = DocumentUploader;\nexport default DocumentUploader;\nvar _c;\n$RefreshReg$(_c, \"DocumentUploader\");","map":{"version":3,"names":["React","useState","useCallback","useDropzone","Upload","File","AlertCircle","CheckCircle","Loader","uploadAPI","jsxDEV","_jsxDEV","DocumentUploader","onUploadComplete","_s","uploading","setUploading","message","setMessage","onDrop","acceptedFiles","length","file","response","uploadDocument","type","text","error","_error$response","_error$response$data","data","detail","getRootProps","getInputProps","isDragActive","accept","multiple","maxSize","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","size","toFixed","_c","$RefreshReg$"],"sources":["D:/IDTSolutions/Ai/Embedder/frontend/src/components/upload/DocumentUploader.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport { Upload, File, AlertCircle, CheckCircle, Loader } from 'lucide-react';\r\nimport { uploadAPI } from '../../services/api';\r\nimport { DocumentUploadResponse } from '../../types/api';\r\n\r\ninterface DocumentUploaderProps {\r\n  onUploadComplete: (response: DocumentUploadResponse) => void;\r\n}\r\n\r\nconst DocumentUploader: React.FC<DocumentUploaderProps> = ({ onUploadComplete }) => {\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState<{ type: 'success' | 'error'; text: string } | null>(null);\r\n\r\n  const onDrop = useCallback(async (acceptedFiles: File[]) => {\r\n    if (acceptedFiles.length === 0) return;\r\n\r\n    const file = acceptedFiles[0];\r\n    setUploading(true);\r\n    setMessage(null);\r\n\r\n    try {\r\n      const response = await uploadAPI.uploadDocument(file);\r\n      setMessage({ type: 'success', text: response.message });\r\n      onUploadComplete(response);\r\n    } catch (error: any) {\r\n      setMessage({\r\n        type: 'error',\r\n        text: error.response?.data?.detail || 'Failed to upload document'\r\n      });\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  }, [onUploadComplete]);\r\n\r\n  const { getRootProps, getInputProps, isDragActive, acceptedFiles } = useDropzone({\r\n    onDrop,\r\n    accept: {\r\n      'application/pdf': ['.pdf'],\r\n      'application/vnd.openxmlformats-officedocument.wordprocessingml.document': ['.docx'],\r\n      'text/plain': ['.txt'],\r\n      'text/html': ['.html'],\r\n      'text/markdown': ['.md', '.markdown']\r\n    },\r\n    multiple: false,\r\n    maxSize: 10 * 1024 * 1024, // 10MB\r\n  });\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-lg shadow-md\">\r\n      <h3 className=\"text-lg font-semibold mb-4\">Upload Document</h3>\r\n      \r\n      <div\r\n        {...getRootProps()}\r\n        className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${\r\n          isDragActive\r\n            ? 'border-blue-500 bg-blue-50'\r\n            : 'border-gray-300 hover:border-gray-400'\r\n        }`}\r\n      >\r\n        <input {...getInputProps()} />\r\n        \r\n        <div className=\"flex flex-col items-center space-y-3\">\r\n          {uploading ? (\r\n            <Loader className=\"w-12 h-12 text-blue-500 animate-spin\" />\r\n          ) : (\r\n            <Upload className=\"w-12 h-12 text-gray-400\" />\r\n          )}\r\n          \r\n          <div>\r\n            <p className=\"text-lg font-medium text-gray-700\">\r\n              {uploading ? 'Uploading...' : isDragActive ? 'Drop file here' : 'Drag & drop a document'}\r\n            </p>\r\n            <p className=\"text-sm text-gray-500 mt-1\">\r\n              {uploading ? 'Please wait while we process your file' : 'or click to select a file'}\r\n            </p>\r\n          </div>\r\n          \r\n          <div className=\"text-xs text-gray-400\">\r\n            Supported formats: PDF, DOCX, TXT, HTML, Markdown\r\n            <br />\r\n            Maximum file size: 10MB\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Selected File Info */}\r\n      {acceptedFiles.length > 0 && !uploading && (\r\n        <div className=\"mt-4 p-3 bg-gray-50 rounded-md\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <File className=\"w-4 h-4 text-gray-500\" />\r\n            <span className=\"text-sm font-medium text-gray-700\">\r\n              {acceptedFiles[0].name}\r\n            </span>\r\n            <span className=\"text-xs text-gray-500\">\r\n              ({(acceptedFiles[0].size / 1024 / 1024).toFixed(2)} MB)\r\n            </span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Upload Message */}\r\n      {message && (\r\n        <div className={`mt-4 p-3 rounded-md flex items-center space-x-2 ${\r\n          message.type === 'success' \r\n            ? 'bg-green-100 text-green-800' \r\n            : 'bg-red-100 text-red-800'\r\n        }`}>\r\n          {message.type === 'success' ? (\r\n            <CheckCircle className=\"w-4 h-4\" />\r\n          ) : (\r\n            <AlertCircle className=\"w-4 h-4\" />\r\n          )}\r\n          <span className=\"text-sm\">{message.text}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DocumentUploader; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}